# IQMvasp

Jake A. Tutmaher
August 1, 2016
Developed while PhD Candidate at Johns Hopkins University

## INTRODUCTION

Scripts and helper classes for analyzing and visualizing various Density Functional Theory (DFT) Computations.

The following paragraphs summarize the python scripts and libraries in this folder. Note, each script shown has a corresponding macro saved to the local .bash_profile in the home directory. Please review these macros before executing these scripts. 

Each script contains more comments and information about its operation.

Note: These libraries are not currently maintained - USE AT YOUR OWN RISK!

## MAIN FOLDER 
The following python scripts are located in this folder:

1.) HTPscript.py: This script generates and executes ALL DFT
    and DFPT calculations. It uses the manage API contained
    in the IQM subdirectory. It is specifically designed to
    operate jobs on MARCC which uses a slurm queing system.

2.) PostProcesss.py: This script generates electronic (and
    phonon) band plots for a given compound. In order to 
    generate an electronic band plot, the main compound
    directory must contain a STATIC and PATH directory,
    which contain the full self-consistent data at a given
    kmesh, and non self-consistent for a given band path,
    respectively. A DFPT directory, which contaiins the raw
    VASP outputs, and a band.yaml and mesh.yaml file produced
    by PHONOPY.This script relies on IQM/plots.py to generate
    the actual plots.

3.) surface.py: This script generates fermi surface numpy 
    arrays by restructuring raw VASP output data (contained
    in a STATIC directory for a given compound) into a
    NxNxNxnumbands 4-d array, where N represents the kpoint
    density. This array can be read by Mayavi (installed on
    one's local computer - as Mayavi is not installed on 
    MARCC) to render iso surface plots for the fermi surface.
    The final arrays are saved as $NAME.npz - and can be 
    loaded into python using numpy.

4.) bxsf.py: This script generates a bxsf text file (read by
    xcrysden for fermi surface rendering) from raw VASP data.
    The output is saved as as a $NAME.bxsf text file, and can
    be read by xcrysden. Note, xcrysden is not installed on
    MARCC, but can be easily run and installed locally. 
    
5.) check.py: This script iterates through ALL compounds in a 
    given subdirectory, and returns
    a CSV file indicating run completion (Y/N), along with other
    information. The CSV file is saved in the subdirectory as
    summary.csv.

## IQM FOLDER

This folder contains various classes used in the aforementioned 
scripts. Please open each file for more detail.

1.) VASPread.py: This class specifically reads in raw VASP data
    and returns it as numpy arrays or floats. It is implemented
    in almost every script. Some of the methods could be rewritten
    to improve efficiency.

2.) PHONOPYread.py: This class reads in raw PHONOPY data (i.e. band.
    yaml, mesh.yaml, qpoints.yaml) and returns various parameters (
    such as energy, momentum, etc.) as numpy arrays or floats. It is
    also implemented in almost every script mentioned above.

3.) plots.py: This script contains helper function which essentially
    format and save band structure plots. It is capable of generating
    orbital band plots, as well as more standard band plots and phonon
    dispersion plots.

4.) manage.py: This class is specifically used in HTPscript.py described
    above. It generates, executes, and monitors VASP jobs until convergence.
    This class is intended to execute high-throughput DFT jobs with minimal
    input from the user.

## UTILS FOLDER

This folder contains various classes used in the aforementioned scripts.
It was meant to hold additional class for future neural network (NN)
development. Please open each file for more detail.

1.) inputs.py: This script contains helper functions that reorganize and
    process data generated by VASPread.py and PHONOPYread.py.   

